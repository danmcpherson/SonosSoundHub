<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SonosSoundHub - Control Your Sonos System</title>
    <link rel="stylesheet" href="css/sonos-theme.css">
    <link rel="stylesheet" href="css/components.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <div class="container">
                <div class="header-content">
                    <h1 class="logo">SonosSoundHub</h1>
                    <div class="header-actions">
                        <button id="discover-btn" class="btn btn-secondary">
                            <span class="icon">üîç</span>
                            Discover Speakers
                        </button>
                        <div id="status-indicator" class="status-indicator">
                            <span class="status-dot"></span>
                            <span class="status-text">Connecting...</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Tab Navigation -->
                <nav class="tab-nav">
                    <button class="tab-btn active" data-tab="speakers">Speakers</button>
                    <button class="tab-btn" data-tab="macros">Macros</button>
                    <button class="tab-btn" data-tab="favorites">Favorites</button>
                    <button class="tab-btn" data-tab="queue">Queue</button>
                </nav>

                <!-- Speakers Tab -->
                <div id="speakers-tab" class="tab-content active">
                    <div class="section-header">
                        <h2>Your Speakers</h2>
                        <p class="subtitle">Control playback and volume for each speaker</p>
                    </div>
                    <div id="speakers-grid" class="speakers-grid">
                        <!-- Speaker cards will be inserted here -->
                        <div class="loading-message">
                            <div class="spinner"></div>
                            <p>Discovering speakers...</p>
                        </div>
                    </div>
                </div>

                <!-- Macros Tab -->
                <div id="macros-tab" class="tab-content">
                    <div class="section-header">
                        <h2>Macros</h2>
                        <p class="subtitle">Create and manage custom automation sequences</p>
                        <button id="new-macro-btn" class="btn btn-primary">
                            <span class="icon">‚ûï</span>
                            New Macro
                        </button>
                    </div>
                    <div id="macros-list" class="macros-list">
                        <!-- Macro cards will be inserted here -->
                    </div>
                </div>

                <!-- Favorites Tab -->
                <div id="favorites-tab" class="tab-content">
                    <div class="section-header">
                        <h2>Favorites</h2>
                        <p class="subtitle">Quick access to your Sonos favorites</p>
                    </div>
                    <div id="favorites-list" class="favorites-list">
                        <div class="info-message">
                            <p>Favorites list coming soon...</p>
                        </div>
                    </div>
                </div>

                <!-- Queue Tab -->
                <div id="queue-tab" class="tab-content">
                    <div class="section-header">
                        <h2>Queue</h2>
                        <p class="subtitle">Manage your playback queue</p>
                    </div>
                    <div id="queue-list" class="queue-list">
                        <div class="info-message">
                            <p>Select a speaker to view its queue</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Macro Editor Modal -->
    <div id="macro-editor-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Create Macro</h3>
                <button class="modal-close" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="macro-form">
                    <div class="form-group">
                        <label for="macro-name">Macro Name</label>
                        <input type="text" id="macro-name" class="form-control" placeholder="e.g., morning_routine" required>
                        <small class="form-hint">Use letters, numbers, underscores, and dashes</small>
                    </div>

                    <div class="form-group">
                        <label for="macro-description">Description (optional)</label>
                        <input type="text" id="macro-description" class="form-control" placeholder="Brief description">
                    </div>

                    <div class="form-group">
                        <label for="macro-category">Category (optional)</label>
                        <input type="text" id="macro-category" class="form-control" placeholder="e.g., Morning, Evening">
                    </div>

                    <div class="form-group">
                        <label for="macro-definition">Macro Definition</label>
                        <textarea id="macro-definition" class="form-control" rows="4" placeholder="Speaker action args : Speaker action args" required></textarea>
                        <small class="form-hint">Format: Speaker action arguments : Speaker action arguments</small>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-macro-btn">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Macro</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/ui-components.js"></script>
    <script src="js/speakers.js"></script>
    <script src="js/macros.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
